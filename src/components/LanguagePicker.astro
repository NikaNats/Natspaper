---
// REFACTORED: The component is now a pure, presentational component.
// It has no knowledge of Astro's i18n or the current URL.

// REFACTORED: The Props interface is now a simple data structure.
export interface LanguageLink {
  code: string;
  name: string;
  url: string;
}

export interface Props {
  links: LanguageLink[];
}

const { links } = Astro.props;
---

<div class="language-picker flex gap-2">
  {
    links.map(({ code, name, url }) => (
      <a
        href={url}
        class="text-sm font-medium transition-colors hover:text-accent"
        title={`Switch to ${name}`}
        aria-label={`Switch to ${name}`}
      >
        {code.toUpperCase()}
      </a>
    ))
  }
</div>

<style>
  .language-picker {
    display: flex;
    gap: 0.5rem;
    align-items: center;
  }

  .language-picker a {
    color: var(--foreground);
    text-decoration: none;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    transition: color 0.2s ease;
  }

  .language-picker a:hover {
    color: var(--accent);
  }

  .language-picker a:focus-visible {
    outline: none;
  }
</style>

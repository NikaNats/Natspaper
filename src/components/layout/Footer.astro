---
// REFACTORED: Pure presentational component that accepts copyrightText as prop
// If not provided, calculates it internally for backward compatibility

import { getI18n } from "@/i18n";

export interface Props {
  copyrightText?: string;
  noMarginTop?: boolean;
}

const { copyrightText, noMarginTop = false } = Astro.props;

// Calculate copyright text if not provided (backward compatibility)
const finalCopyrightText =
  copyrightText ??
  (() => {
    const { t } = getI18n(Astro.currentLocale as "en" | "ka" | undefined);
    const currentYear = new Date().getFullYear();
    return `Copyright © ${currentYear} • ${t("footer.copyright")}`;
  })();
---

<footer class:list={["w-full", { "mt-auto": !noMarginTop }]}>
  <div class="flex flex-col items-center gap-1 text-sm text-text-secondary">
    {/* REFACTORED: The component simply renders the text it's given. */}
    <p>{finalCopyrightText}</p>
  </div>
</footer>

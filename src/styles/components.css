/* src/styles/components.css */
@layer components {
  /* Layout */
  header {
    @apply relative z-50 w-full bg-transparent transition-colors duration-300;
  }
  main {
    @apply relative z-0 mx-auto w-full flex-1 px-4;
    max-width: var(--main-width);
  }
  main > * + * {
    @apply mt-8;
  }

  /* Post Cards */
  .post-entry {
    @apply relative border-l-4 border-transparent pl-4 transition-all duration-200;
    &:is(:hover, :focus-within) {
      @apply rounded-r-md border-accent bg-muted;
    }
  }

  .post-summary-item {
    @apply transition-all duration-200;
    & .post-entry {
      @apply border-l-0;
    }
    &:is(:hover, :focus-within) .post-entry {
      @apply rounded-lg;
    }
  }

  .post-featured-card {
    @apply transition-all duration-300;
    &:hover {
      @apply shadow-xl shadow-accent/10;
    }
  }

  /* Post Meta */
  .post-hero-title {
    @apply relative z-10 text-center font-bold text-foreground;
    font-family: var(--font-inter), sans-serif;
    font-size: clamp(2rem, 5vw, 3rem);
    line-height: 1.1;
    letter-spacing: -0.02em;
    text-wrap: balance;
  }
  .post-hero-meta {
    @apply mt-4 flex flex-wrap items-center justify-between gap-4 border-b border-dashed border-border pb-4;
  }
  .metadata {
    @apply flex items-center gap-3 text-sm font-medium text-text-secondary;
  }

  /* Navigation */
  .pagination {
    @apply my-12 flex list-none justify-center gap-4 p-0;
    & a,
    & span {
      @apply rounded-md border border-border px-4 py-2 text-sm transition-colors;
    }
    & a:hover {
      @apply border-accent bg-muted text-accent;
    }
    & .active {
      @apply border-accent bg-accent font-medium text-background;
    }
  }
  .active-nav {
    @apply font-medium text-accent underline decoration-wavy decoration-2 underline-offset-4;
  }

  /* Elements */
  .tag {
    @apply mr-2 mb-2 inline-flex items-center rounded-full border border-transparent bg-muted px-3 py-1 text-sm text-foreground transition-colors;
    &:hover {
      @apply border-accent/20 bg-accent/10 text-accent;
    }
  }
  .posts-container {
    @apply grid gap-6;
  }
  .posts-empty {
    @apply rounded-lg border-2 border-dashed border-border/40 p-8 text-center;
    & h3 {
      @apply mb-2 text-xl font-bold text-foreground;
    }
    & p {
      @apply text-text-secondary;
    }
  }
  .search-input {
    @apply w-full rounded-lg border border-border bg-background px-4 py-3 text-base text-foreground transition-all;
    &:focus {
      @apply border-accent ring-2 ring-accent/20 outline-none;
    }
  }
  .astro-code {
    @apply my-6 overflow-x-auto rounded-lg border border-border/50;
    scrollbar-width: thin;
    &::-webkit-scrollbar {
      @apply h-2;
    }
    &::-webkit-scrollbar-thumb {
      @apply rounded-full bg-muted;
    }
  }
  .visually-hidden {
    @apply sr-only;
  }
}

/* Mobile Menu Overlay */
@media (max-width: 640px) {
  #mobile-menu-overlay {
    /* Fixed syntax: z-[9999] */
    @apply fixed inset-0 z-[9999] flex flex-col items-center justify-center gap-8 bg-background p-4 opacity-100 transition-opacity duration-300;
    will-change: opacity, transform;
    &.hidden {
      @apply pointer-events-none hidden opacity-0;
    }
    & ul {
      @apply flex w-full flex-col items-center gap-6;
    }
    & a {
      @apply block py-2 text-2xl font-medium;
    }
  }
  #menu-close-btn {
    /* Fixed syntax: z-[10000] */
    @apply absolute top-6 right-6 z-[10000] p-2;
  }
  .pagination a,
  .pagination span {
    @apply px-4 py-3 text-base;
  }
  body.menu-open {
    @apply overflow-hidden;
  }
}

/* src/styles/global.css */
@import "tailwindcss";

/* Domain Imports */
@import "./base.css"; /* Resets & Global Elements */
@import "./typography.css"; /* Fonts & Prose */
@import "./components.css"; /* Reusable UI Components */
@import "./features.css"; /* Specific Page Sections (Profile, Newsbox) */

/* Define custom variant for cleaner HTML selection */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Map CSS Variables to Tailwind Utility Classes */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-text-secondary: var(--text-secondary);
  --color-code-bg: var(--code-bg);

  --animate-duration-fast: 150ms;
  --animate-duration-normal: 300ms;
  --animate-duration-slow: 500ms;
}

/* --- DESIGN TOKENS (Single Source of Truth) --- */
:root {
  /* Layout Tokens */
  --gap: 24px;
  --nav-width: 1024px;
  --main-width: 720px;
  --header-height: 64px;
  --radius: 8px;

  /**
   * Fluid Layout System (Holy Grail Grid)
   * =====================================
   * Scales from 320px mobile to 4K (2560px+)
   * --layout-gap-fluid: Responsive gap between elements
   * --layout-padding-fluid: Edge padding that scales with viewport
   * --layout-content-width: Max readable content width
   * --layout-wide-width: Max wide container width
   * --layout-full-width: Full viewport container
   */
  --layout-gap-fluid: clamp(1rem, 0.5rem + 2vw, 3rem);
  --layout-padding-fluid: clamp(1rem, 0.5rem + 3vw, 6rem);
  --layout-content-width: min(
    var(--main-width),
    100% - var(--layout-padding-fluid) * 2
  );
  --layout-wide-width: min(90rem, 100% - var(--layout-padding-fluid) * 2);
  --layout-full-width: 100%;

  /* Fluid spacing scale */
  --space-fluid-xs: clamp(0.25rem, 0.2rem + 0.25vw, 0.5rem);
  --space-fluid-sm: clamp(0.5rem, 0.4rem + 0.5vw, 1rem);
  --space-fluid-md: clamp(1rem, 0.75rem + 1.25vw, 2rem);
  --space-fluid-lg: clamp(1.5rem, 1rem + 2.5vw, 4rem);
  --space-fluid-xl: clamp(2rem, 1.5rem + 3vw, 6rem);
  --space-fluid-2xl: clamp(3rem, 2rem + 5vw, 10rem);

  /* Theme: Light (Default) */
  --background: #fafafa;
  --foreground: #212121;
  --accent: #0066ff;
  --muted: #f7f7f7;
  --border: #e0e0e0;
  --text-secondary: #757575;
  --code-bg: #f0f0f0;

  /* Native UI Adaptation */
  color-scheme: light;
}

/* Theme: Dark */
html[data-theme="dark"] {
  --background: #121212;
  --foreground: #e0e0e0;
  --accent: #4da6ff;
  --muted: #1e1e1e;
  --border: #2d2d2d;
  /* WCAG AA Fix: Lightened for better contrast */
  --text-secondary: #b3b3b3;
  --code-bg: #2a2a2a;

  color-scheme: dark;
}

/* ==========================================================================
   GLOBAL STYLESHEET (Universal Architecture)
   ========================================================================== */

@import "tailwindcss";
@import "./typography.css";
@import "./components.css";

@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-text-secondary: var(--text-secondary);

  --animate-duration-fast: 150ms;
  --animate-duration-normal: 300ms;
  --animate-duration-slow: 500ms;
}

/* --- DESIGN TOKENS --- */
:root {
  --gap: 24px;
  --content-gap: 20px;
  --nav-width: 1024px;
  --main-width: 720px;
  --header-height: 64px;
  --radius: 8px;
}

/* Light Theme */
:root,
html[data-theme="light"] {
  --background: #fafafa;
  --foreground: #212121;
  --accent: #0066ff;
  --muted: #f7f7f7;
  --border: #e0e0e0;
  --text-secondary: #757575;
  --code-block-bg: #1c1d21;
  --code-bg: #f0f0f0;
}

/* Dark Theme */
html[data-theme="dark"] {
  --background: #121212;
  --foreground: #e0e0e0;
  --accent: #4da6ff;
  --muted: #1e1e1e;
  --border: #2d2d2d;
  --text-secondary: #a3a3a3;
  --code-block-bg: #1a1a1a;
  --code-bg: #2a2a2a;
}

/* --- BASE LAYER --- */
@layer base {
  @media (prefers-reduced-motion: no-preference) {
    html {
      @apply scroll-smooth;
    }
  }

  html {
    @apply bg-background;

    /* 
       UNIVERSAL FONT STACK
       1. var(--font-inter): Handles Latin characters, Numbers, & Punctuation.
       2. var(--font-georgian): Browser automatically picks this up for Georgian glyphs.
       3. Fallbacks: Standard system fonts.
    */
    font-family:
      var(--font-inter), var(--font-georgian), "Helvetica Neue", Arial,
      sans-serif;

    /* Single, consistent size for all languages */
    font-size: 18px;
    scrollbar-gutter: stable;

    scroll-padding-top: var(--header-height, 64px);
  }

  @media (max-width: 768px) {
    html {
      font-size: 16px;
    }
  }

  body {
    @apply flex min-h-svh flex-col font-sans text-foreground antialiased;
    /* Universal line-height */
    line-height: 1.6;
    letter-spacing: 0.01em;
    transition:
      background-color 0.3s ease,
      color 0.3s ease;
  }

  /* Link Styling */
  a:not(.no-underline) {
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 0.25em;
    text-decoration-color: var(--accent);
    transition:
      text-decoration-color 0.2s ease,
      text-decoration-thickness 0.2s ease;
  }

  a:hover:not(.no-underline),
  a:focus-visible:not(.no-underline) {
    text-decoration-thickness: 2px;
  }

  :focus-visible {
    @apply outline-2 outline-offset-2 outline-accent;
  }

  * {
    @apply border-border;
    scrollbar-width: thin;
    scrollbar-color: var(--muted) transparent;
  }

  button {
    @apply cursor-pointer;
    touch-action: manipulation;
  }

  button:active,
  [role="button"]:active {
    transform: scale(0.98);
  }

  section,
  footer {
    @apply mx-auto w-full px-4;
    max-width: 65ch;
  }
}

/* --- UTILITIES --- */
@utility max-w-app {
  @apply max-w-2xl;
}

/* --- PRINT STYLES --- */
@media print {
  html {
    font-size: 12pt;
  }
  body {
    @apply bg-white text-black;
  }
  header,
  footer,
  #back-to-top,
  .no-print,
  button {
    display: none !important;
  }
  a {
    text-decoration: none;
    color: black;
  }
  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
  pre,
  code {
    white-space: pre-wrap;
    border: 1px solid #ccc;
    page-break-inside: avoid;
  }
}
